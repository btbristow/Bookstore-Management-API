<h1 id="get-orders-by-customer-or-date">Get orders by customer or date</h1>

<p>This tutorial takes about 15 minutes to complete and explains how to use query parameters with the <code class="language-plaintext highlighter-rouge">orders</code> endpoint to get orders by customer or order date.</p>

<p>You can use query parameters with any endpoint in the Bookstore Management API.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>To complete this tutorial, you must have command line access to curl and be able to send requests to the Bookstore Management API. You can integrate the API with your test environment or run it locally.</p>

<p>To learn how to run the API locally, see <a href="test-with-json-server.md">Test with JSON Server</a>.</p>

<h2 id="step-1-get-orders-by-customer">Step 1: Get orders by customer</h2>

<p>To get orders by customer, obtain a customerâ€™s <code class="language-plaintext highlighter-rouge">id</code> from their email address and use it as a query parameter in a request to <code class="language-plaintext highlighter-rouge">/orders</code>.</p>

<ol>
  <li>
    <p>Enter <code class="language-plaintext highlighter-rouge">curl -X GET '{server_url}:{port}/customer?email=mjameson@gmail.com'</code>, using your own <code class="language-plaintext highlighter-rouge">{server_url}</code> and <code class="language-plaintext highlighter-rouge">{port}</code>.</p>

    <p>The Bookstore Management API returns a <code class="language-plaintext highlighter-rouge">200 OK</code> with the following response body:</p>

    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ogb"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jameson"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Michael"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="mi">2018724543</span><span class="p">,</span><span class="w">
   </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mjameson@gmail.com"</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Enter <code class="language-plaintext highlighter-rouge">curl -X GET 'https://{server_url}:{port}/orders?customer_id=2ogb'</code>, using your own <code class="language-plaintext highlighter-rouge">{server_url}</code> and <code class="language-plaintext highlighter-rouge">{port}</code>.</p>

    <blockquote>
      <p>Note: Use the customer <code class="language-plaintext highlighter-rouge">id</code> from your last request for the <code class="language-plaintext highlighter-rouge">customer_id</code> property.</p>
    </blockquote>

    <p>The API returns a <code class="language-plaintext highlighter-rouge">200 OK</code> and a response body with an array of orders:</p>

    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
     </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fmo"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"order_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-02-22"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ogb"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"book_id"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="s2">"7dpc"</span><span class="w">
     </span><span class="p">],</span><span class="w">
     </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.99"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.71"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.70"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
     </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8pij"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"order_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-20"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
     </span><span class="nl">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ogb"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"book_id"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="s2">"7dpc"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"9rdk"</span><span class="w">
     </span><span class="p">],</span><span class="w">
     </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22.98"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.04"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25.02"</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span></code></pre></div>    </div>
  </li>
</ol>

<h2 id="step-2-view-orders-by-date">Step 2: View orders by date</h2>

<p>To view orders placed on a certain date, enter <code class="language-plaintext highlighter-rouge">curl -X GET '{server_url}:{port}/orders?date=2024-02-22'</code>, using your own <code class="language-plaintext highlighter-rouge">{server_url}</code> and <code class="language-plaintext highlighter-rouge">{port}</code>.</p>

<p>The Bookstore Management API returns a <code class="language-plaintext highlighter-rouge">200 OK</code> and a response body with an array of orders in the following format:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fmo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-02-22"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ogb"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"book_id"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"7dpc"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.99"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.71"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.70"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<h2 id="related-topics">Related Topics</h2>

<ul>
  <li><a href="get-store-inventory.md">Get store inventory</a></li>
  <li><a href="tutorials/create-an-order.md">Create an order</a></li>
  <li><a href="update-store.md">Update a store</a></li>
</ul>
