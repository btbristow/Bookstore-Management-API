<h1 id="update-a-store">Update a store</h1>

<p>This tutorial takes about 15 minutes to complete and presents a workflow where you add books from a delivery, update customer information, and edit an order.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>To complete this tutorial, you must have command line access to curl and be able to send requests to the Bookstore Management API. You can integrate the API with your test environment or run it locally.</p>

<p>To learn how to run the API locally, see <a href="test-with-json-server.md">Test with JSON Server</a>.</p>

<h2 id="step-1-update-books-in-stock">Step 1: Update books in stock</h2>

<p>To update the number of books in stock after a delivery, enter the following <code class="language-plaintext highlighter-rouge">PATCH</code> request. Supply your own <code class="language-plaintext highlighter-rouge">{server_url}</code> and <code class="language-plaintext highlighter-rouge">{port}</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-X</span> PATCH <span class="s1">'{server_url}:{port}/books/988c'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
    "in_stock": 5
  }'</span>
</code></pre></div></div>

<p>The Bookstore Management API returns a <code class="language-plaintext highlighter-rouge">200 OK</code> with a response body that contains the updated bookâ€”in this case, Oryx and Crake by Margaret Atwood:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"988c"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Oryx and Crake"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"author_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Atwood"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"author_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Margaret"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"publisher"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Knopf Canada"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"year_published"</span><span class="p">:</span><span class="w"> </span><span class="mi">2010</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ISBN-10"</span><span class="p">:</span><span class="w"> </span><span class="mi">9780307400840</span><span class="p">,</span><span class="w">
  </span><span class="nl">"genre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fiction"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hardcover"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19.99"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"in_stock"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="step-2-update-customer-information">Step 2: Update customer information</h2>

<p>To update a customer phone number, enter the following <code class="language-plaintext highlighter-rouge">PATCH</code> request. Supply your own <code class="language-plaintext highlighter-rouge">{server_url}</code> and <code class="language-plaintext highlighter-rouge">{port}</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-X</span> PATCH <span class="s1">'{server_url}:{port}/books/988c'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
    "telephone": 7187486732
  }'</span>
</code></pre></div></div>

<p>The Bookstore Management API returns a <code class="language-plaintext highlighter-rouge">200 OK</code> with a response body that contains the updated customer:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8azr"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jones"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jenny"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="mi">7187486732</span><span class="p">,</span><span class="w">
   </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jjones@proton.me"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="step-3-update-books-in-an-order">Step 3: Update books in an order</h2>

<p>To update a the books in an order, enter the following <code class="language-plaintext highlighter-rouge">PATCH</code> request. Supply your own <code class="language-plaintext highlighter-rouge">{server_url}</code> and <code class="language-plaintext highlighter-rouge">{port}</code>:</p>

<blockquote>
  <p><strong>Note:</strong> In the following request, be sure to change <code class="language-plaintext highlighter-rouge">order_date</code>, <code class="language-plaintext highlighter-rouge">subtotal</code>, <code class="language-plaintext highlighter-rouge">tax</code>, and <code class="language-plaintext highlighter-rouge">total</code> to correctly update your order management system.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-X</span> PATCH <span class="s1">'{server_url}:{port}/books/9fmo'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
      "order_date": "2024-04-25",
      "items": 2,
      "book_id": [
        "7dpc",
        "988c"
      ],
      "subtotal": "17.98",
      "tax": "1.60",
      "total": "19.58"
  }'</span>
</code></pre></div></div>

<p>The Bookstore Management API returns a <code class="language-plaintext highlighter-rouge">200 OK</code> with a response body that contains the updated order:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"9fmo"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"order_date"</span><span class="p">:</span><span class="s2">"2024-02-22"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"items"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
   </span><span class="nl">"customer_id"</span><span class="p">:</span><span class="s2">"2ogb"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"book_id"</span><span class="p">:[</span><span class="w">
      </span><span class="s2">"7dpc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"988c"</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="s2">"17.98"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"tax"</span><span class="p">:</span><span class="s2">"1.60"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"total"</span><span class="p">:</span><span class="s2">"19.58"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="related-topics">Related topics</h2>

<ul>
  <li><a href="get-store-inventory.md">Get store inventory</a></li>
  <li><a href="tutorials/create-an-order.md">Create an order</a></li>
  <li><a href="tutorials/orders-customer-date.md">Get orders by customer or date</a></li>
</ul>
